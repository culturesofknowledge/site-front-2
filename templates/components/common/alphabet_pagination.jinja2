<ul class="alphabet pagination">
    {# Loop through the alphabet A-Z #}
    {% for letter in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' %}
        <li class="{% if current_letter == letter.lower() %}current{% endif %}">
            <a href="{{ base_url }}?letter={{ letter | lower }}">{{ letter }}</a>
        </li>
    {% endfor %}
</ul>

<script>
window.onload = () => {
    const queryString = window.location.search;
    const params = new URLSearchParams(queryString);
    let current_letter = params.get("letter") || "a"; // Default to 'a' if not present
    
    // Highlight the current letter if not handled by Jinja2
    const currentElement = document.querySelector(`.alphabet.pagination li.current`);
    if (currentElement) {
        currentElement.classList.remove('current'); // Remove current class if needed
    }
    if (current_letter) {
        const activeLetterElement = document.querySelector(`.alphabet.pagination li a[href*="?letter=${current_letter}"]`);
        if (activeLetterElement) {
            activeLetterElement.parentElement.classList.add('current'); 
        }
    }
}
</script>
