{% extends "base.jinja2" %}

{% block title %}Results{% endblock %}

{% block content %}

    <br><br>
    <div class="panel">
        RESULT
        <button onclick="hello()">Redirect</button>
    </div>

{% endblock %}


{% block extra_js_bottom %}
<script>
function hello() {
    try {
        const currentParams = new URLSearchParams(window.location.search);
            
        let advanceSearchUrl = `${window.location.origin}/advance`;

        if(currentParams.size > 0) {
            advanceSearchUrl = `${advanceSearchUrl}?${currentParams.toString()}`
        }

        window.location.href = advanceSearchUrl;
    } catch(err) {
        console.error(`got an error ${err} while redirecting the user to search+ page`)
        alert("Unable to redirect you to modify your search")
    }
}
</script>
{% endblock extra_js_bottom %}